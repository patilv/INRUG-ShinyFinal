{
    "contents" : "---\ntitle: \"The Spokesman-Review and Data-driven News Stories\"\nauthor: \"Vivek H. Patil, Ph.D\"\ndate: \"Thursday, July 17, 2014\"\noutput: ioslides_presentation\nruntime: shiny\ncss: mycustom.css\n---\n\n## Rise in Data-analysis Driven Journalism\n<img src=\"img/usatoday.png\" height=\"600\" width=\"900\">\n\n## Rise in Data-analysis Driven Journalism\n\n* ESPN backed: **FiveThirtyEight.com**: Nate Silver (previously NYTimes)\n* New York Times' **The Upshot** - David Leonhardt\n* Vox media's **Vox.com** - Ezra Klein (WaPo), Matt Yglesias (slate.com)\n* **Guardian's** data blog\n* The Wall Street Journal \n* The Washington Post\n\n## 3 Types of Stories - 1\n\n**Presenting Information/Charts from Other Sources**\n\nDaniel Kurtzleben: http://www.vox.com/2014/6/22/5828762/the-jobs-where-you-could-be-making-more-money-in-one-chart\n\n<img src=\"img/vox.png\" height=\"600\" width=\"900\">\n\n## 3 Types of Stories - 2\n**Academic literature review of a topic**\n\nMona Chalabi: http://fivethirtyeight.com/datalab/why-women-dont-cycle/\n\n<img src=\"img/fivethirtyeight.png\">\n\n## 3 Types of Stories - 3 \n**Original Analysis**\n\nBowers, Liptak and Willis: http://www.nytimes.com/interactive/2014/06/24/upshot/24up-scotus-agreement-rates.html?rref=upshot\n\n<img src=\"img/nytimes.png\" height=\"600\" width=\"900\">\n\n## Who am I?\n\n* Associate Professor of Marketing at Gonzaga\n* Teach and conduct research in Marketing Research, Statistics, Business Analytics, and Data Visualization\n* A long-form blog about analysis and visualization of different social topics at http://patilv.github.io\n* Over 60,000 visitors within a year\n* 2 Posts listed by ComputerWorld magazine as top resources for R statistical programming environment\n* 1 invited post on kdnuggets.com on data mining modern languages - kdnuggets.com is the number 1 data mining resource site \n* 1 post on NCAA finances sought by collegeathleticsclips.com\n\n## Sample Projects\n\n#### Healthcare\n\n* Medicare provider charge data for Spokane\n* Mapping potentially preventable deaths in the country\n\n#### Sports\n \n* Lilac Bloomsday Run in graphs\n* Analysis of Division 1 athletic program finances\n\n#### Education\n\n* Analysis of business schools rankings\n* Visualizing Forbes' ranking of Universities\n\n#### Crime\n \n* Visualizing Crime rates in different US States across 5 decades\n* Visualizing 2012 crime rates in the US\n\n## NCAA Basketball- Gonzaga Bulldogs versus Kansas Jayhawks -PPG\n<img src=\"img/2schoolskdf.png\">\n\n\n\n\n## Textual Data - Titles of 1755 TED Talks\n<img src=\"tedwordcloud.png\">\n\n\n## Superbowl appearances - Wins and Losses\n\n```{r echo=FALSE,message=FALSE}\nlibrary(rCharts)\nshinyApp(ui=fluidPage(\n  showOutput(\"nwl\",\"nvd3\")\n  ),\n  server=function(input,output){\n    \n  output$nwl=renderChart2({\n   load(\"winlosstab.Rda\")\n   \nnwl=nPlot(Count ~ Team, group=\"Win.Loss\", data=winlosstab, type='multiBarChart')\nnwl$chart(color=c(\"red\",\"green\"))\nnwl$xAxis(rotateLabels=-45)\nnwl$chart(reduceXTicks = FALSE)\nnwl$chart(stacked=TRUE)\nnwl$chart(margin = list(bottom = 150))\nreturn(nwl)\n })\n  })\n  \n  #showOutput(\"superbowl\",\"nvd3\")\n\n\n```\n\n## Medicare Provider Charges in Spokane\n\n```{r, echo=FALSE}\n\nshinyApp(\n    \n  ui=fluidPage(\n\n   selectInput(\"variable1\", \"Procedure:\",\n                list(                                \n                  \"039 - EXTRACRANIAL PROCEDURES W/O CC/MCC\"=\"039\",\n                  \"064 - INTRACRANIAL HEMORRHAGE OR CEREBRAL INFARCTION W MCC\"=\"064\",\n                  \"065 - INTRACRANIAL HEMORRHAGE OR CEREBRAL INFARCTION W CC\"=\"065\",\n                  \"066 - INTRACRANIAL HEMORRHAGE OR CEREBRAL INFARCTION W/O CC/MCC\"=\"066\",\n                  \"069 - TRANSIENT ISCHEMIA\"=\"069\",\n                  \"074 - CRANIAL & PERIPHERAL NERVE DISORDERS W/O MCC\"=\"074\",\n                  \"101 - SEIZURES W/O MCC\"=\"101\",\n                  \"176 - PULMONARY EMBOLISM W/O MCC\"=\"176\",\n                  \"177 - RESPIRATORY INFECTIONS & INFLAMMATIONS W MCC\"=\"177\",\n                  \"178 - RESPIRATORY INFECTIONS & INFLAMMATIONS W CC\"=\"178\",\n                  \"189 - PULMONARY EDEMA & RESPIRATORY FAILURE\"=\"189\",\n                  \"190 - CHRONIC OBSTRUCTIVE PULMONARY DISEASE W MCC\"=\"190\",\n                  \"191 - CHRONIC OBSTRUCTIVE PULMONARY DISEASE W CC\"=\"191\",\n                  \"192 - CHRONIC OBSTRUCTIVE PULMONARY DISEASE W/O CC/MCC\"=\"192\",\n                  \"193 - SIMPLE PNEUMONIA & PLEURISY W MCC\"=\"193\",\n                  \"194 - SIMPLE PNEUMONIA & PLEURISY W CC\"=\"194\",\n                  \"195 - SIMPLE PNEUMONIA & PLEURISY W/O CC/MCC\"=\"195\",\n                  \"202 - BRONCHITIS & ASTHMA W CC/MCC\"=\"202\",\n                  \"207 - RESPIRATORY SYSTEM DIAGNOSIS W VENTILATOR SUPPORT 96+ HOURS\"=\"207\",\n                  \"208 - RESPIRATORY SYSTEM DIAGNOSIS W VENTILATOR SUPPORT <96 HOURS\"=\"208\",\n                  \"238 - MAJOR CARDIOVASC PROCEDURES W/O MCC\"=\"238\",\n                  \"243 - PERMANENT CARDIAC PACEMAKER IMPLANT W CC\"=\"243\",\n                  \"244 - PERMANENT CARDIAC PACEMAKER IMPLANT W/O CC/MCC\"=\"244\",\n                  \"246 - PERC CARDIOVASC PROC W DRUG-ELUTING STENT W MCC OR 4+ VESSELS/STENTS\"=\"246\",\n                  \"247 - PERC CARDIOVASC PROC W DRUG-ELUTING STENT W/O MCC\"=\"247\",\n                  \"249 - PERC CARDIOVASC PROC W NON-DRUG-ELUTING STENT W/O MCC\"=\"249\",\n                  \"251 - PERC CARDIOVASC PROC W/O CORONARY ARTERY STENT W/O MCC\"=\"251\",\n                  \"252 - OTHER VASCULAR PROCEDURES W MCC\"=\"252\",\n                  \"253 - OTHER VASCULAR PROCEDURES W CC\"=\"253\",\n                  \"254 - OTHER VASCULAR PROCEDURES W/O CC/MCC\"=\"254\",\n                  \"280 - ACUTE MYOCARDIAL INFARCTION-DISCHARGED ALIVE W MCC\"=\"280\",\n                  \"281 - ACUTE MYOCARDIAL INFARCTION- DISCHARGED ALIVE W CC\"=\"281\",\n                  \"282 - ACUTE MYOCARDIAL INFARCTION-DISCHARGED ALIVE W/O CC/MCC\"=\"282\",\n                  \"286 - CIRCULATORY DISORDERS EXCEPT AMI- W CARD CATH W MCC\"=\"286\",\n                  \"287 - CIRCULATORY DISORDERS EXCEPT AMI- W CARD CATH W/O MCC\"=\"287\",\n                  \"291 - HEART FAILURE & SHOCK W MCC\"=\"291\",\n                  \"292 - HEART FAILURE & SHOCK W CC\"=\"292\",\n                  \"293 - HEART FAILURE & SHOCK W/O CC/MCC\"=\"293\",\n                  \"300 - PERIPHERAL VASCULAR DISORDERS W CC\"=\"300\",\n                  \"301 - PERIPHERAL VASCULAR DISORDERS W/O CC/MCC\"=\"301\",\n                  \"303 - ATHEROSCLEROSIS W/O MCC\"=\"303\",\n                  \"308 - CARDIAC ARRHYTHMIA & CONDUCTION DISORDERS W MCC\"=\"308\",\n                  \"309 - CARDIAC ARRHYTHMIA & CONDUCTION DISORDERS W CC\"=\"309\",\n                  \"310 - CARDIAC ARRHYTHMIA & CONDUCTION DISORDERS W/O CC/MCC\"=\"310\",\n                  \"312 - SYNCOPE & COLLAPSE\"=\"312\",\n                  \"313 - CHEST PAIN\"=\"313\",\n                  \"314 - OTHER CIRCULATORY SYSTEM DIAGNOSES W MCC\"=\"314\",\n                  \"315 - OTHER CIRCULATORY SYSTEM DIAGNOSES W CC\"=\"315\",\n                  \"329 - MAJOR SMALL & LARGE BOWEL PROCEDURES W MCC\"=\"329\",\n                  \"330 - MAJOR SMALL & LARGE BOWEL PROCEDURES W CC\"=\"330\",\n                  \"372 - MAJOR GASTROINTESTINAL DISORDERS & PERITONEAL INFECTIONS W CC\"=\"372\",\n                  \"377 - G.I. HEMORRHAGE W MCC\"=\"377\",\n                  \"378 - G.I. HEMORRHAGE W CC\"=\"378\",\n                  \"389 - G.I. OBSTRUCTION W CC\"=\"389\",\n                  \"390 - G.I. OBSTRUCTION W/O CC/MCC\"=\"390\",\n                  \"391 - ESOPHAGITIS- GASTROENT & MISC DIGEST DISORDERS W MCC\"=\"391\",\n                  \"392 - ESOPHAGITIS- GASTROENT & MISC DIGEST DISORDERS W/O MCC\"=\"392\",\n                  \"394 - OTHER DIGESTIVE SYSTEM DIAGNOSES W CC\"=\"394\",\n                  \"418 - LAPAROSCOPIC CHOLECYSTECTOMY W/O C.D.E. W CC\"=\"418\",\n                  \"419 - LAPAROSCOPIC CHOLECYSTECTOMY W/O C.D.E. W/O CC/MCC\"=\"419\",\n                  \"439 - DISORDERS OF PANCREAS EXCEPT MALIGNANCY W CC\"=\"439\",\n                  \"460 - SPINAL FUSION EXCEPT CERVICAL W/O MCC\"=\"460\",\n                  \"469 - MAJOR JOINT REPLACEMENT OR REATTACHMENT OF LOWER EXTREMITY W MCC\"=\"469\",\n                  \"470 - MAJOR JOINT REPLACEMENT OR REATTACHMENT OF LOWER EXTREMITY W/O MCC\"=\"470\",\n                  \"473 - CERVICAL SPINAL FUSION W/O CC/MCC\"=\"473\",\n                  \"480 - HIP & FEMUR PROCEDURES EXCEPT MAJOR JOINT W MCC\"=\"480\",\n                  \"481 - HIP & FEMUR PROCEDURES EXCEPT MAJOR JOINT W CC\"=\"481\",\n                  \"482 - HIP & FEMUR PROCEDURES EXCEPT MAJOR JOINT W/O CC/MCC\"=\"482\",\n                  \"491 - BACK & NECK PROC EXC SPINAL FUSION W/O CC/MCC\"=\"491\",\n                  \"536 - FRACTURES OF HIP & PELVIS W/O MCC\"=\"536\",\n                  \"552 - MEDICAL BACK PROBLEMS W/O MCC\"=\"552\",\n                  \"563 - FX- SPRN- STRN & DISL EXCEPT FEMUR-HIP-PELVIS & THIGH W/O MCC\"=\"563\",\n                  \"602 - CELLULITIS W MCC\"=\"602\",\n                  \"603 - CELLULITIS W/O MCC\"=\"603\",\n                  \"638 - DIABETES W CC\"=\"638\",\n                  \"640 - MISC DISORDERS OF NUTRITION-METABOLISM-FLUIDS/ELECTROLYTES W MCC\"=\"640\",\n                  \"641 - MISC DISORDERS OF NUTRITION-METABOLISM-FLUIDS/ELECTROLYTES W/O MCC\"=\"641\",\n                  \"682 - RENAL FAILURE W MCC 683 - RENAL FAILURE W CC\"=\"682\",\n                  \"689 - KIDNEY & URINARY TRACT INFECTIONS W MCC\"=\"689\",\n                  \"690 - KIDNEY & URINARY TRACT INFECTIONS W/O MCC\"=\"690\",\n                  \"698 - OTHER KIDNEY & URINARY TRACT DIAGNOSES W MCC\"=\"698\",\n                  \"699 - OTHER KIDNEY & URINARY TRACT DIAGNOSES W CC\"=\"699\",\n                  \"811 - RED BLOOD CELL DISORDERS W MCC\"=\"811\",\n                  \"812 - RED BLOOD CELL DISORDERS W/O MCC\"=\"812\",\n                  \"853 - INFECTIOUS & PARASITIC DISEASES W O.R. PROCEDURE W MCC\"=\"853\",\n                  \"870 - SEPTICEMIA OR SEVERE SEPSIS W MV 96+ HOURS\"=\"870\",\n                  \"871 - SEPTICEMIA OR SEVERE SEPSIS W/O MV 96+ HOURS W MCC\"=\"871\",\n                  \"872 - SEPTICEMIA OR SEVERE SEPSIS W/O MV 96+ HOURS W/O MCC\"=\"872\",\n                  \"917 - POISONING & TOXIC EFFECTS OF DRUGS W MCC\"=\"917\",\n                  \"918 - POISONING & TOXIC EFFECTS OF DRUGS W/O MCC\"=\"918\",\n                  \"948 - SIGNS & SYMPTOMS W/O MCC\"=\"948\"\n                )),\n                plotOutput(\"chargepaymentplot\"),\n                plotOutput(\"dischargeplot\")\n                ),\n  \n  server=function(input,output){\n  library(ggplot2)\n    load(\"spokanedata.Rda\")\n    output$chargepaymentplot<-renderPlot({\n  \nchargepaymentplot<-ggplot(subset(spokanedata,DRG==input$variable1),\n           aes(x=Provider.Name,y=Average.Covered.Charges,fill=Provider.Name))+ \n      geom_bar(stat=\"identity\",width=.5)+\n      ggtitle(\"Average Covered Charges (Colored Bar) and Average Total Payments \n              (Black Dot)\")+coord_flip()+\n      theme(legend.position=\"none\")+\n      labs(y= \"Average Dollar Amount\", x=\"\")+\n      geom_point(data=subset(spokanedata,DRG==input$variable1),\n                 aes(x=Provider.Name,y=Average.Total.Payments),size=5)+ \n  theme(axis.text.y = element_text(color=\"black\"))+theme(axis.text.x = element_text(color=\"black\"))\n    \nprint(chargepaymentplot)\n      \n  })\n  \n  output$dischargeplot<-renderPlot({\n    dischargeplot<-ggplot(subset(spokanedata,DRG==input$variable1),\n                          aes(x=Provider.Name,y=Total.Discharges,fill=Provider.Name))+ \n      geom_bar(stat=\"identity\",width=.5)+\n      ggtitle(\"Total Discharges by Provider\")+coord_flip()+\n      theme(legend.position=\"none\")+\n      labs(y= \"Total Discharges\", x=\"\")+ \n      theme(axis.text.y = element_text(color=\"black\"))+theme(axis.text.x = element_text(color=\"black\"))\n    \n    print(dischargeplot)\n    \n       \n  })\n  \n      \n  },\noptions = list(height = 800)\n\n )\n\n```\n\n## Enrollments in Modern languages\n\n```{r echo=FALSE,message=FALSE}\nlibrary(rCharts)\nload(\"langmajormelt.rda\")\n\nshinyApp(ui=fluidPage(\nshowOutput(\"np1\",\"nvd3\")\n  ),\n  \n  server=function(input,output){\n    \n  output$np1 = renderChart2({\nnp1=nPlot(Enrollments~Year,group=\"Language\",data=langmajormelt,type=\"lineChart\")\nnp1$set(disabled = c(T, T, T, T, T, T, T, T, T, T, T,F,F))\n#np1$publish('np1',host=\"gist\")\n  return(np1)\n  })\n  })\n  \n```\n\n## Violent Crime Rates Across 5 Decades \n\n```{r echo=FALSE,message=FALSE}\nlibrary(rCharts)\nlibrary(plyr)\nload(\"decadespctshiny.rda\")\n\nshinyApp(ui=fluidPage(\n  sliderInput(\"Decade\",\"\", min=1960, max=2000, value=1960,  format=\"###0\",step=10,animate=animationOptions(loop=T, interval=2500)),\n  htmlOutput(\"decade\"),\n  showOutput(\"Chart1\",\"datamaps\")\n  ),\n  \n  server=function(input,output){\n    \n   # decade output\n  output$decade=renderText({paste(\"Decade of \",input$Decade+1,\"through \",input$Decade+10,\"<br> LEGEND: Red Color indiates most unsafe, Orage color denotes medium level of safety, and Green color denotes most safe\")})\n   # rCharts\n  choropleth3 <- function (x, data, colors, map = \"usa\", ...){\n    fml = lattice::latticeParseFormula(x, data = data)\n    data = transform(data, fillKey = fml$left)\n    d <- Datamaps$new()\n    d$set(scope = map, fills = as.list(colors), \n          data = dlply(data, fml$right.name), ...)\n    return(d)\n  }\n  output$Chart1 = renderChart({\n    Chart1=choropleth3(\n      CrimeRateGroup~state,\n      data = decadespctshiny[decadespctshiny$Decade_Beginning==input$Decade,],\n      colors = c(\"\",\"#4daf4a\",\"#fc8d62\",\"red\")\n    )\n    Chart1$addParams(dom = 'Chart1') \n    return(Chart1)\n  })\n  })\n  \n```\n\n## The Idea\n\n* In print - Integrate data driven stories with current stories\n* On the web - leverage the power of interactivity to extend stories in-print with interactive web-components\n* Independent web-based stories with original research\n* Scope of stories can be limited only by data available and interest - regional/state-wide/nation-wide/international\n* Update and integrate the Data-Projects section of spokesman.com with these stories \n* Crowdsourcing data-collection - get people to visit a website to enter data on different topics\n* Create dashboards on different topics for real-time access for people in and around Spokane \n\n## Sample mapping of crime activity\n\n\n```{r echo=FALSE,message=FALSE}\nlibrary(ggmap)\nlibrary(rCharts)\nshinyApp(ui=fluidPage(\n  mapOutput(\"L1\")\n  ),\n  \n  server=function(input,output){\n   \n  output$L1 = renderMap({\nload(\"GUCrime.Rda\")\ndata_ <- toJSONArray(GUCrime, json = F)\nL1 <- Leaflet$new()\nL1$setView(c(47.668, -117.4), zoom = 15)\nL1$tileLayer(provider = 'Stamen.TonerLite')\nL1$set(height = 800, width = 1600)\nL1$geoJson(toGeoJSON(data_), \n           onEachFeature = '#! function(feature, layer){\n           layer.bindPopup(feature.properties.popup)\n           } !#',\n           pointToLayer =  \"#! function(feature, latlng){\n           return L.circleMarker(latlng, {\n           radius: 5,\n           fillColor: feature.properties.fillColor || 'red',    \n           color: '#000',\n           weight: 2,\n           fillOpacity: 0.9\n           })\n           } !#\")\nL1$enablePopover(F)\nL1$fullScreen(TRUE)\nL1$addParams(dom = 'L1')\n    return(L1)\n  })\n  })\n```\n\n",
    "created" : 1422381224644.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "621723701",
    "id" : "AA174DBB",
    "lastKnownWriteTime" : 1422217309,
    "path" : "C:/Users/patil.GONZAGA/Dropbox/Reverything/Spokesman/SpokesmanPresentation.Rmd",
    "project_path" : null,
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}